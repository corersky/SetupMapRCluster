---

classes:
  - bash_profile
  - epel_release
  - packages
  - mapr_pre
  - mapr_repo
  - mapr_user
  - mapr_core::core
  - mapr_config::configure
  - mapr_config_r
  - mapr_util

# This is used to generate /etc/hosts
mapr_pre::hosts:
  node64: '10.10.70.64'
  node65: '10.10.70.65'
  node66: '10.10.70.66'
  node67: '10.10.70.67'
  node68: '10.10.70.68'
  node69: '10.10.70.69'
  node70: '10.10.70.70'
  node71: '10.10.70.71'
  node72: '10.10.70.72'
  node73: '10.10.70.73'
  node74: '10.10.70.74'
  node75: '10.10.70.75'
# AWS
# ip-10-10-70-47 : '10.10.70.47'
# ip-10-10-70-180: '10.10.70.180'
# ip-10-10-70-184: '10.10.70.184'
# ip-10-10-70-205: '10.10.70.205'

mapr_pre::domain: 'local'
# AWS
# mapr_pre::domain: 'us-west-1.compute.internal'


# For example, the full URL is: http://download.oracle.com/otn-pub/java/jdk/8u152-b16/aa0333dd3019491ca4f6ddbe78cdb6d0/jdk-8u152-linux-x64.rpm
mapr_pre::java_version_major: '8u152'
mapr_pre::java_version_minor: 'b16'
mapr_pre::java_url_hash     : 'aa0333dd3019491ca4f6ddbe78cdb6d0'

# For version 8u144
#mapr_pre::java_version_major: '8u144'
#mapr_pre::java_version_minor: 'b01'
#mapr_pre::java_url_hash     : '090f390dda5b47b9b721c7dfaa008135'

# MapR versions
mapr_repo::core_version: 5.2.2
mapr_repo::mep_version : 3.0.1

# Cluster level settings
mapr_config::cluster_name  : qinsup.cluster
mapr_config::cldb_node_list: node67
mapr_config::zk_node_list  : node67,node68,node69
mapr_config::historyserver : node69
# AWS
#mapr_config::cldb_node_list: ip-10-10-70-47
#mapr_config::zk_node_list  : ip-10-10-70-47,ip-10-10-70-180,ip-10-10-70-184
#mapr_config::historyserver : ip-10-10-70-184
mapr_config::secure        : true
mapr_config::kerberos      : true
# Default setttings for all nodes
# Override by setting this to the correct disk in individual nodes' yaml file
mapr_config::disk_list     : /dev/sdb
# AWS
#mapr_config::disk_list     : /dev/xvdb

# kerberos
kerberos::default_realm    : SUPPORT.MAPR.COM
kerberos::kdc_server       : node70
# AWS
#kerberos::kdc_server       : ip-10-10-70-205

### packages to install
# This provides a convenient way to install packages. No services are started.
# Also no configuration is adapted. ntp & java are handled in mapr_pre
packages::toinstall:
  # Needed by MapR
  - perl         # required by nfs auto mount: a perl script is used there
  # For convenience only
  - sysstat   # mpstat
  - net-tools # netstat
  - lsof
  - vim
  - zip # required by spark (spark.yarn.archive)
